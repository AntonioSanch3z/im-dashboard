{% extends "base.html" %}
{% block title %}Change Image{% endblock %}
{% block content %}


<div class="container">

    <br>

    <div class="card shadow mb-4">
        <div class="card-header py-3">
          <div class="row">
            <div class="col-md-9">
              <!-- Title -->
              <h4 class="font-weight-bold text-primary">Change images to Inf: {{infid}}</h4>
            </div>
            <div class="col-md-3 text-right">
              <!-- Button -->
              <button type=button class="btn btn-small btn-outline-secondary" onclick="history.back()"><span class="fas fa-arrow-left mr-2"></span> Back</button>
            </div>
          </div> <!-- / .row -->
        </div>

        <div class="card-body">

    <div class="table-responsive">
        <form id="changeImage" action="{{ url_for('changeimage', infid=infid) }}" method="post">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
        
        <div class="form-group col-md-6">
 
            <div class="form-group" id="cloudImages" style="display: none;">
             <label>Set image ID:</label>
             <input placeholder="Image ID" type="text" class="form-control" id="imageID" name="imageID" value="" oninput="activateSubmit()">
             <br/>
            </div>
 
            <div class="form-group" id="fedcloudImages" style="display: none;">
               <label>Select only one of this options AppDB or Site image:</label>
               <br/>
               <label>Select AppDB image:</label>
               <select class="js-example-basic-single js-states form-control" id="selectedImage" name="selectedImage" onchange="activateSubmit()">
                   <option name="selectedImage" value="">Select provider</option>
               </select>
             </div>
 
             <div class="form-group" id="siteImages" style="display: none;">
               <br/>
               <label>Select Site image:</label>
               <select class="js-example-basic-single js-states form-control" id="selectedSiteImage" name="selectedSiteImage" onchange="activateSubmit()">
                   <option name="selectedSiteImage" value="">Select provider</option>
               </select>
            </div>
 
        </div>


        <button type="submit" class="btn btn-success submitBtn">Submit</button>
        <button id="cancelBtn" type=button class="btn btn-small btn-primary cancelBtn" onclick="location.href='{{ url_for('showinfrastructures') }}'"></button>
        </form>
    </div>
    </div>
    </div>
</div>
<script>
$(document).ready(function () {
    $("#addNodes").submit(function () {
        //disable button on click
        $(".submitBtn").attr("disabled", true);
        $(".cancelBtn").attr("disabled", true);
        // add spinner to button
        $(".submitBtn").html( `<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Processing...` );
        return true;
    });
});
</script>

{% endblock %}
